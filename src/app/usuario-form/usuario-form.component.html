<div class="container">
  <p class="fs-1 pt-3 pb-3">Registro de Usuários</p>
  <div *ngFor="let erro of erros"
        class="alert alert-danger">
        {{erro}}
  </div>
  <form [formGroup]="usuarioForm" (ngSubmit)="registrar()" class="row g-3">
    <div class="col-md-6">
      <label for="nome" class="form-label">Nome</label>
      <input
        type="text"
        class="form-control"
        id="nome"
        formControlName="nome"
      />
      <div
        *ngIf="nome.invalid && (nome.dirty || nome.touched)"
        class="alert alert-danger"
      >
        <div *ngIf="nome.errors?.['required']">Nome é obrigatório.</div>
        <div *ngIf="nome.errors?.['minlength']">
          Nome deve ter no mínimo 3 caracteres.
        </div>
        <div *ngIf="nome.errors?.['maxlength']">
          Nome deve ter no máximo 50 caracteres.
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="email" class="form-label">E-mail</label>
      <input
        type="email"
        class="form-control"
        id="email"
        formControlName="email"
      />
      <div
        *ngIf="email.invalid && (email.dirty || email.touched)"
        class="alert alert-danger"
      >
        <div *ngIf="email.errors?.['required']">Email é obrigatório.</div>
        <div *ngIf="email.errors?.['email']">Email inválido.</div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="senha" class="form-label">Senha</label>
      <input
        type="password"
        class="form-control"
        id="senha"
        formControlName="senha"
      />
      <div
        *ngIf="senha.invalid && (senha.dirty || senha.touched)"
        class="alert alert-danger"
      >
        <div *ngIf="senha.errors?.['required']">Senha é obrigatória.</div>
        <div *ngIf="senha.errors?.['minlength']">
          Senha deve ter no mínimo 6 caracteres.
        </div>
        <div *ngIf="senha.errors?.['maxlength']">
          Senha deve ter no máximo 20 caracteres.
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <label for="confirmacaoSenha" class="form-label"
        >Confirmação de Senha</label
      >
      <input
        type="password"
        class="form-control"
        id="confirmacaoSenha"
        formControlName="confirmacaoSenha"
      />
      <div
        *ngIf="
          confirmacaoSenha.invalid &&
          (confirmacaoSenha.dirty || confirmacaoSenha.touched)
        "
        class="alert alert-danger"
      >
        <div *ngIf="confirmacaoSenha.errors?.['required']">
          Confirmação de senha é obrigatória.
        </div>
        <div *ngIf="confirmacaoSenha.errors?.['notMatch']">
          As senhas não coincidem.
        </div>
      </div>
    </div>
    <div class="col-12">
      <button
        id="btnEnviar"
        type="submit"
        [disabled]="!usuarioForm.valid"
        class="btn btn-primary float-end"
      >
        Enviar
      </button>
    </div>
  </form>
</div>
